!function(a){var b=a("#ad-hoc-task-progress-container"),c=cfrequest.adhocTaskStatusUpdateUrl||"";if(b.length&&c.length){var d,e,f,g,h,i=a("#taskmanager-log"),j=a("#task-log-timetaken"),k=b.find(".progress:first"),l=a("#task-cancel-button"),m=(a("#view-result-button"),cfrequest.adhocTaskLineCount||""),n=1e3;g=function(){var a=i.get(0);i.animate({scrollTop:a.scrollHeight-a.clientHeight},400)},d=function(){a.get(c,{fetchAfterLines:m},e)},h=function(a){k.attr("data-percent",a+"%"),k.find(".progress-bar:first").css("width",a+"%")},e=function(b){var c="running"==b.status,d="pending"==b.status,e=i.get(0),n=e.scrollHeight-e.clientHeight<=e.scrollTop+1;j.html(b.timeTaken),a.trim(b.log).length&&(i.html(i.html()+String.fromCharCode(10)+b.log),m=b.logLineCount,n&&g()),h(b.progress),c||d?c&&j.parent().addClass("running blue").removeClass("orange red green"):(clearInterval(f),j.parent().removeClass("running blue"),j.parent().addClass("complete"),"succeeded"==b.status?j.parent().addClass("green"):j.parent().addClass("red"),"succeeded"==b.status&&b.resultUrl.length&&(window.location=b.resultUrl),l.length&&(l.prop("disabled",!0),l.addClass("btn-disabled disabled")),k.removeClass("active"),k.removeClass("progress-striped"))},f=setInterval(d,n),setTimeout(g,2e3)}}(presideJQuery);
//# sourceMappingURL=_adhocTaskProgress.min.map